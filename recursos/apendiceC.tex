
\fancychapter{Apêndice C - Configurações}
\label{ap:c}

Este apêndice lista a configuração embarcada dos parâmetros configuráveis dos componentes da \ac{T2D}. Estes incluem o programa do controlador da tração e o programa original do \emph{firmware} dalf. Apenas os parâmetros alterados do \emph{firmware} dalf são aqui listados; os restantes podem ser consultados em \cite{dalf_om}.

Os parâmetros \emph{adjustments} do \texttt{Sigmadrive PMT835M} \cite[capítulo 2]{datasheet_PMT835M} e o seu valor final são listados na tabela \ref{tab:parametros_sigmad}.

%\begin{table}
\begin{center}
\begin{longtable}{@{} m{0.1\textwidth} m{0.18\textwidth} m{0.18\textwidth} @{}}
    \toprule
    Código & Texto programador & Valor programado\\
    \midrule
1.1 & Accel & \SI{3.5}{\second}\\
1.2 & Decel & \SI{1.0}{\second}\\
1.3 & Creep & \SI{0.0}{\%}\\
1.4 & SpdMaxF & \SI{20.0}{\%}\\
1.5 & SpdMaxR & \SI{20.0}{\%}\\
1.6 & Sp1/Inch & \SI{50.0}{\%}\\
1.7 & Sp2/Time & \SI{50.0}{\%}\\
1.8 & Sp3 & \SI{0.0}{\%}\\
1.9 & DBrake & \SI{150.0}{\ampere}\\
1.10 & NBrake & \SI{10.0}{\ampere}\\
1.11 & FBrake & \SI{150.0}{\ampere}\\
1.12 & DBrkRamp & \SI{3.0}{\second}\\
1.13 & DBrkEnd & \SI{0.5}{\second}\\
1.14 & NBrkRamp & \SI{3.0}{\second}\\
1.15 & NBrkEnd & \SI{0.0}{\second}\\
1.16 & RegSpd & \SI{15.0}{\%}\\
1.17 & MaxCurr & \SI{50.0}{\ampere}\\
1.18 & BattV & \SI{78.0}{\volt}\\
1.19 & PStrDly & \SI{5.0}{\second}\\
1.20 & EBrkDly & \SI{0.5}{\second}\\
1.21 & AccMin & \SI{0.0}{\volt}\\
1.22 & AccMax & \SI{5.0}{\volt}\\
1.23 & AuxMin & \SI{0.0}{\volt}\\
1.24 & AuxMax & \SI{5.0}{\volt}\\
1.25 & MotMin & \SI{0.2}{\volt}\\
1.26 & MotMax & \SI{4.8}{\volt}\\
1.27 & VmaxSpd & \SI{32.0}{\kilo\meter/\hour}\\
1.28 & BDIreset & \SI{75.0}{\volt}\\
1.29 & BDIempty & \SI{72.0}{\volt}\\
1.30 & BDIwarn & \SI{50.0}{\volt}\\
1.31 & BDIcut & \SI{25.0}{\%}\\
1.32 & BDIspeed & \SI{100}{\%}\\
1.33 & DMcut & \SI{10.0}{\%}\\
1.34 & DMrev & \SI{75.0}{\%}\\
1.35 & DMspeed & \SI{75.0}{\%}\\
1.36 & StdByDly & \num{0.0}\\
    \bottomrule
\caption{Parâmetros ajustáveis do controlador \texttt{Sigmadrive PMT835M}.}
\label{tab:parametros_sigmad}
\end{longtable}
\end{center}
%\end{table}

As configurações do controlador \texttt{Sigmadrive PMT835M} \cite[capítulo 4]{datasheet_PMT835M} e o seu valor final são listados na tabela \ref{tab:controlador_sigmad}.

\begin{table}[!hbp]
\begin{center}
\begin{tabular}{@{} m{0.1\textwidth} m{0.18\textwidth} m{0.18\textwidth} @{}}
    \toprule
    Código & Texto programador & Valor programado\\
    \midrule
3.1 & Lin/Curv & 8\\
3.2 & Spd/Torq & 0\\
3.3 & Bpro/Off & 0\\
3.4 & Arol/Off & 0\\
3.5 & Spd/Inch & 0\\
3.6 & Spd3/Hbk & 1\\
3.7 & PsF/FR/S & 0\\
3.8 & Ride/Wlk & 0\\
3.9 & Key/Drv & 0\\
3.10 & Of/M/M\&W & 2\\
3.11 & Of/D/V/K & 2\\
3.12 & InitDisp & 0\\
3.13 & MTempTyp & 0\\
3.14 & Accel 8/9 & 1\\
3.15 & Si/DL/DR & 0\\
3.16 & - n/a - & 0\\
3.17 & CAN node & 0\\
    \bottomrule
\end{tabular}
\caption{Configurações do controlador \texttt{Sigmadrive PMT835M}.}
\label{tab:controlador_sigmad}
\end{center}
\end{table}

As configurações do motor programadas no controlador \texttt{Sigmadrive PMT835M} \cite[capítulo 5]{datasheet_PMT835M} e o seu valor final são listados na tabela \ref{tab:motor_sigmad}.

\begin{table}[!hbp]
\begin{center}
\begin{tabular}{@{} m{0.1\textwidth} m{0.18\textwidth} m{0.18\textwidth} @{}}
    \toprule
    Código & Texto programador & Valor programado\\
    \midrule
4.1 & TempStrt & \SI{90}{\degree}\\
4.2 & SpdRatio & \num{201.5}\\
4.3 & SpdTeeth & \num{36}\\
4.4 -- 4.29 & - n/a - & \\
4.30 & CurrTh & \SI{200}{\ampere}\\
4.31 & ImaxLow & \SI{130}{\ampere}\\
4.32 & IthTime & \SI{10}{\second}\\
4.33 & Oset1R + & \SI{10}{bit}\\
4.34 & - n/a - & \\
4.35 & Oset3F + & \SI{10}{bit}\\
4.36 & Gain1R & \SI{100}{\%}\\
4.37 & - n/a - & \\
4.38 & Gain3F & \SI{92}{\%}\\ 
\bottomrule
\end{tabular}
\caption{Configurações do controlador \texttt{Sigmadrive PMT835M}.}
\label{tab:motor_sigmad}
\end{center}
\end{table}

Os campos do \emph{parameter block} do \emph{firmware} dalf alterados para o \emph{software} do \ac{ROVIM} e o seu valor final são listados na tabela \ref{tab:parameter_block}. O prefixo 0x indica que o valor está formatado em hexadecimal.

\begin{table}[!hbp]
\begin{center}
\begin{tabular}{m{0.1\textwidth} m{0.15\textwidth} m{0.4\textwidth} m{0.1\textwidth}}
    \toprule
    Endereço & Nome & Razão da alteração & Valor final\\
    \midrule
0x0029 & VBWARN & Calibrar a alimentação usada & 12000\\
0x002C & MAXERR & Limitar o erro do controlador à amplitude da direção & 0x95\\
0x0037 & VSP1 & Maximizar o período de amostragem, devido à fraca resolução a baixas velocidades & 250\\
0x0040 & TPR1 & Calibrar o sensor de velocidade & 36\\
0x0046 & MTR2\_MODE1 & Ativar o indicador para sensor analógico & 0x32\\
0x0048 & MTR2\_MODE3 & Desativar a deteção de sobrecorrente (não usada) & 0x21 \\
0x004D & VSP2 & Aumentar a resolução da amostragem  da posição & 20 \\
0x0054 & VMIN2 & Calibrar o limiar de movimentação do motor & 30\\
0x0056 & TPR2 & Indicar a presença de um sensor analógico & 0x0100\\
0x0058 & MIN1 & Calibrar o fim de curso de bombordo da direção & 0x23\\
0x005A & MAX1 & Calibrar o fim de curso de estibordo da direção & 0xB8\\
0x006D & nBR & Maximizar a velocidade de transmissão da ligação série & 5\\
0x0075 & DMAX & Não é importante neste aplicação & 255\\
0x0076 & FENBL & Ativar a filtragem para AN3 e AN4 & 0x54\\
0x0077 & DECAY & Frequência de corte $\approx$ \SI{25}{\hertz} & 80\\ 
    \bottomrule
\end{tabular}
\caption{Alterações ao \emph{parameter block} no \emph{software} do \acs{ROVIM}.}
\label{tab:parameter_block}
\end{center}
\end{table}

\cleardoublepage
